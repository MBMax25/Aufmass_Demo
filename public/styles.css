:root{
  --bg:#f2f2f7; --surface:#ffffff; --surface-soft:#fafafa;
  --border:#e5e5ea; --text:#111111; --muted:#6e6e73;
  --accent:#007aff; --accent-2:#0a84ff; --danger:#ff3b30; --ok:#34c759;
  --shadow:0 2px 8px rgba(0,0,0,.06); --radius:14px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,"Noto Sans",sans-serif;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* Header */
.app-header{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:12px 16px; background:rgba(255,255,255,.9); backdrop-filter:saturate(180%) blur(12px);
  border-bottom:1px solid var(--border);
}
.brand{display:flex; align-items:center; gap:12px}
.logo-wrap{display:flex; align-items:center; justify-content:center; height:34px; padding:4px 10px; background:#fff; border:1px solid var(--border); border-radius:10px}
.logo{height:22px; display:block}
.app-title{font-weight:700; letter-spacing:.2px}
.header-actions{display:flex; align-items:center; gap:8px; flex-wrap:wrap}

/* Layout */
.container{max-width:980px; margin:24px auto; padding:0 16px}
.info-banner{margin:8px 0 16px; padding:10px 12px; border:1px solid var(--border); border-radius:12px; background:var(--surface); color:#1c1c1e; box-shadow:var(--shadow)}
.form-wrapper{background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); padding:20px; box-shadow:var(--shadow)}
.legend-row{display:flex; align-items:center; justify-content:space-between; gap:12px}
legend{font-weight:700; margin-bottom:8px}
fieldset{border:1px solid var(--border); border-radius:12px; padding:16px; margin-bottom:16px; background:var(--surface-soft)}
label{display:flex; align-items:center; gap:8px; margin:8px 0}
label > span{width:180px; color:#1c1c1e; opacity:.9}
input[type=text], input[type=email], select{
  flex:1; padding:12px 14px; min-height:44px; border-radius:12px; border:1px solid var(--border);
  background:#fff; color:var(--text); outline:none; font-size:16px; /* iOS Zoom vermeiden */
}
input:focus, select:focus{border-color:var(--accent); box-shadow:0 0 0 3px rgba(0,122,255,.12)}
.row-inline{display:flex; gap:12px; align-items:center; flex-wrap:wrap}
.inline-radio-item, .inline-checkbox-item{
  display:flex; align-items:center; gap:8px; padding:8px 12px; border:1px solid var(--border);
  border-radius:12px; background:#fff
}
.section-divider{height:1px; background:var(--border); margin:12px 0}
.add-btn{margin-top:12px}

/* Buttons */
.btn{padding:10px 14px; min-height:40px; border-radius:12px; border:1px solid var(--border); background:#fff; color:var(--text); cursor:pointer}
.btn:hover{filter:brightness(0.98)}
.btn-primary{background:var(--accent); border-color:var(--accent); color:#fff; font-weight:600}
.btn-secondary{background:#fff; border-color:var(--border)}
.btn-ghost{background:transparent; border-color:transparent}
.btn-link{background:transparent; border-color:transparent; color:var(--accent); padding:6px 8px}
.btn-danger{background:#fff; border-color:var(--border); color:var(--danger)}
.badge{padding:8px 12px; min-height:36px; border-radius:999px; border:1px solid var(--border); font-size:14px; color:#1c1c1e; background:#fff}

/* Cards & notes */
.card{border:1px solid var(--border); border-radius:12px; padding:12px; background:#fff}
.card.soft{background:#fff}
.card-title{font-weight:600; margin-bottom:8px}
.card-title-row{display:flex; align-items:center; justify-content:space-between}
.note-card{margin:8px 0 12px; padding:10px 12px; border:1px solid var(--border); border-radius:12px; background:#fff}

/* Misc */
.muted{color:var(--muted)}
.loading{margin-top:16px; text-align:center; padding:10px 12px; border:1px dashed var(--border); border-radius:12px; background:#fff}
.swatches{display:inline-flex; gap:6px; margin-left:10px}
.swatches .sw{width:18px; height:18px; border-radius:50%; border:1px solid var(--border)}
.sw[data-name="Anthrazit"]{background:#2b2b31}
.sw[data-name="Weiß"]{background:#f2f2f2}
.sw[data-name="Grau"]{background:#9aa0a6}

/* Räume & Fenster */
.room{border:1px solid var(--border); border-radius:12px; padding:12px; margin:12px 0; background:#fff; box-shadow:var(--shadow)}
.room-head{display:flex; align-items:center; justify-content:space-between; gap:8px}
.room-title{font-weight:600}
.window{border:1px solid var(--border); border-radius:10px; padding:10px; margin-top:10px; background:#fff}
.empty-hint{opacity:.7; font-size:14px; margin:10px 0}

/* Fenster-Editor */
.win-grid{display:grid; grid-template-columns:1fr; gap:10px}
.win-row{display:flex; gap:10px; flex-wrap:wrap}
.win-actions{display:flex; gap:8px; align-items:center; margin-left:auto}
.win-opts{display:flex; gap:8px; flex-wrap:wrap}

.thumbs{display:flex; gap:10px; flex-wrap:wrap}
.thumb{position:relative; width:120px; height:90px; border:1px solid var(--border); border-radius:10px; overflow:hidden; background:#fff}
.thumb img{width:100%; height:100%; object-fit:cover}
.thumb .remove{position:absolute; top:4px; right:4px; font-size:12px}

/* Skizze */
.sketch{border:1px solid var(--border); border-radius:10px; padding:8px; background:#fff}
.sketch canvas{display:block; width:100%; height:220px; background:#fff; border:1px solid var(--border); border-radius:8px}
.sketch-toolbar{display:flex; gap:8px; align-items:center; margin-top:8px}
.sketch-toolbar input[type=range]{width:160px}

/* Simulation */
.sim{border:1px dashed var(--border); background:#fafafa; padding:8px; border-radius:8px}
.sim small{opacity:.8}

/* Toast */
.toast{
  position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
  background:#111; color:#fff; padding:10px 14px; border-radius:12px; font-size:14px;
  box-shadow:0 6px 20px rgba(0,0,0,.18); max-width:90%; text-align:center;
}

/* Mobile / iPhone optimiert */
@media (max-width:480px){
  .app-header{padding:10px 12px}
  .container{padding:0 12px}
  label{flex-direction:column; align-items:stretch}
  label > span{width:auto; margin-bottom:4px}
  .row-inline{gap:8px}
  .btn{width:100%; max-width:100%}
  .header-actions{gap:6px}
}
